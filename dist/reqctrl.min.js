!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.RequestControl=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){b.exports=function(){var a,b=arguments[0],c=arguments.length;for(a=1;c>a;a+=1)b=b.replace(/%s/,arguments[a]);return b}},{}],2:[function(a,b,c){var d=a("./spy-stat-block.js"),e=a("./log.js");b.exports=function(a){var b=a.context.XMLHttpRequest;return a.context.rcAjaxStats=a.context.rcAjaxStats||d(a),a.type="AJAX",function(c){var d=new b(c),f=d.send,g=a.context.rcAjaxStats;return d.send=function(){var b=Date.now(),c=!a.context.rcLastAjaxReq,h=b-a.context.rcLastAjaxReq>a.throttle;g.rps.attempted+=1,g.net.attempted+=1,(c||h)&&(g.rps.made+=1,g.net.made+=1,a.context.rcLastAjaxReq=b,e(">>> <Ajax> request allowed",a.id),f.apply(d,arguments))},d.addEventListener("load",function(){g[d.status]=g[d.status]||0,g[d.status]+=1},!1),d}}},{"./log.js":7,"./spy-stat-block.js":8}],3:[function(a,b,c){(function(c){var d=a("./spy-stat-block.js"),e=a("./log.js"),f=c.document.createElement("div");b.exports=function(a){var b=a.context.Element.prototype.appendChild;return a.type="Append",a.context.rcAppendStats=a.context.rcAppendStats||d(a),function(c){var d,g=a.context.rcAppendStats,h=Date.now(),i=!a.context.rcLastAppendReq,j=h-a.context.rcLastAppendReq>a.throttle;return f.innerHTML="",b.call(f,c),d=f.innerHTML,d.indexOf("http")>=0?(g.rps.attempted+=1,g.net.attempted+=1,i||j?(g.rps.made+=1,g.net.made+=1,a.context.rcLastAppendReq=h,e(">>> <Append> request allowed",a.id),b.call(this,c)):c):b.call(this,c)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./log.js":7,"./spy-stat-block.js":8}],4:[function(a,b,c){(function(c){var d=a("./ajax-spy.js"),e=a("./image-spy.js"),f=(a("./create-spy.js"),a("./append-spy.js")),g=a("./log.js");b.exports=function(a){function b(i,j){var k,l,m;for(i=i||c.self,m=i.frames.length,i.XMLHttpRequest=d({throttle:a.throttle||200,context:i,id:j||"top"}),i.Image=e({throttle:a.throttle||200,context:i,id:j||"top"}),i.Element.prototype.appendChild=f({throttle:a.throttle||200,context:i,id:j||"top"}),k=0;m>k;k+=1)try{l=i.frames[k].frameElement,l.contentWindow.rcThrottled||h.push(l.id),b(l.contentWindow,l.id)}catch(n){g("Denied access to",l)}}var h=[];return a=a||{},c.rcThrottled||(b(),c.setInterval(b,5e3)),h}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ajax-spy.js":2,"./append-spy.js":3,"./create-spy.js":5,"./image-spy.js":6,"./log.js":7}],5:[function(a,b,c){var d=a("./spy-stat-block.js"),e=a("./log.js");b.exports=function(a){var b=a.context.document.createElement;return a.type="Create",a.context.rcCreateStats=a.context.rcCreateStats||d(a),function(c){var d,f,g,h=a.context.rcCreateStats;return d=Date.now(),f=!a.context.rcLastCreateReq,g=d-a.context.rcLastCreateReq>a.throttle,c=c.toLowerCase(),"object"===c?(h.rps.attempted+=1,h.net.attempted+=1,f||g?(h.rps.made+=1,h.net.made+=1,a.context.rcLastCreateReq=d,e(">>> <Object/SWF> request allowed",a.id),b.call(a.context.document,c)):b.call(a.context.document,"span")):"div"!==c?b.call(a.context.document,c):void 0}}},{"./log.js":7,"./spy-stat-block.js":8}],6:[function(a,b,c){var d=a("./spy-stat-block.js"),e=a("./log.js");b.exports=function(a){var b=a.context.Image;return a.type="IMG",a.context.rcImageStats=a.context.rcImageStats||d(a),function(c,d){var f=Date.now(),g=!a.context.rcLastImgReq,h=f-a.context.rcLastImgReq>a.throttle,i=a.context.rcImageStats;return i.rps.attempted+=1,i.net.attempted+=1,g||h?(i.rps.made+=1,i.net.made+=1,a.context.rcLastImgReq=f,e(">>> <Image> request allowed",a.id),new b(c,d)):{}}}},{"./log.js":7,"./spy-stat-block.js":8}],7:[function(a,b,c){(function(a){a.top.rcDebug=!0,b.exports=function(){a.top.rcDebug&&a.console.debug.apply(a.console,arguments)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(a,b,c){(function(c){var d=a("./spy-stat-node.js"),e=a("./log.js");b.exports=function(a){var b={rps:d(),net:d()};return c.top.rcDebug&&(c.setInterval(function(){b.rps.attempted>0,b.rps.made=0,b.rps.attempted=0},1e3),c.setInterval(function(){b.net.attempted>0&&e("	net requests",a.id,a.type,b.net.toString())},9e3)),b}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./log.js":7,"./spy-stat-node.js":9}],9:[function(a,b,c){var d=a("curb");b.exports=function(){return{attempted:0,made:0,toString:function(){return d("(made/attempted) %s/%s %s%",this.made,this.attempted,this.attempted?Math.round(this.made/this.attempted*100):0)}}}},{curb:1}]},{},[4])(4)});