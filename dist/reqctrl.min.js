!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.RequestControl=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){b.exports=function(){throw Error("[BaseClass] Abstract method was called without definition.")}},{}],2:[function(a,b,c){function d(a){return a.extend=function(b){var c,d={base:a.base};b=b||{};for(c in a)"function"==typeof a[c]&&(d[c]=a[c].bind(a));for(c in b)"function"==typeof b[c]?a[c]=e(c,a,d,b):a[c]=b[c];return a.base=d,a},a.implement=function(){var b,c=arguments.length;for(b=0;c>b;b+=1)arguments[b](a);return a},a}var e=a("./rebind.js");d.Abstract=a("./abstract.js"),d.Stub=a("./stub.js"),d.Interface=a("./interface.js"),b.exports=d},{"./abstract.js":1,"./interface.js":3,"./rebind.js":4,"./stub.js":5}],3:[function(a,b,c){b.exports=function(a){return function(b){var c;for(c in a)b[c]=a[c];return b}}},{}],4:[function(a,b,c){b.exports=function(a,b,c,d){return function(){var e,f=b.base;return b.base=c,b.self=d,e=d[a].apply(b,arguments),b.base=f,e}}},{}],5:[function(a,b,c){b.exports=function(){}},{}],6:[function(a,b,c){b.exports=function(){var a,b=arguments[0],c=arguments.length;for(a=1;c>a;a+=1)b=b.replace(/%s/,arguments[a]);return b}},{}],7:[function(a,b,c){var d=a("./spy-stat-block.js"),e=a("./log.js");b.exports=function(a){var b=d(a),c=a.context.XMLHttpRequest;return function(d){var f=new c(d),g=f.send;return f.send=function(){var c=Date.now(),d=!a.context.rcLastAjaxReq,h=c-a.context.rcLastAjaxReq<a.throttle;b.rps.attempted+=1,b.net.attempted+=1,d||h?(b.rps.made+=1,b.net.made+=1,a.context.rcLastAjaxReq=Date.now(),g.apply(f,arguments)):e(">>> <Ajax> request blocked!",a.id)},f.addEventListener("load",function(){b[f.status]=b[f.status]||0,b[f.status]+=1},!1),f}}},{"./log.js":10,"./spy-stat-block.js":11}],8:[function(a,b,c){(function(c){var d=a("./ajax-spy.js"),e=a("./image-spy.js"),f=a("./log.js");b.exports=function(a){function b(h,i){var j,k,l;for(h=h||c.self,l=h.frames.length,h.rcThrottled||(h.rcThrottled=!0,h.XMLHttpRequest=d({throttle:a.throttle||200,context:h,id:i||"top"}),h.Image=e({throttle:a.throttle||200,context:h,id:i||"top"})),j=0;l>j;j+=1)try{k=h.frames[j].frameElement,k.contentWindow.rcThrottled||g.push(k.id),b(k.contentWindow,k.id)}catch(m){f("Denied access to",k)}}var g=[];return a=a||{},c.rcThrottled||c.setInterval(b,5e3),g}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ajax-spy.js":7,"./image-spy.js":9,"./log.js":10}],9:[function(a,b,c){var d=a("./spy-stat-block.js"),e=a("./log.js");b.exports=function(a){var b=d(a),c=a.context.Image;return function(d,f){var g=Date.now(),h=!a.context.rcLastImgReq,i=g-a.context.rcLastImgReq<a.throttle;return b.rps.attempted+=1,b.net.attempted+=1,h||i?(b.rps.made+=1,b.net.made+=1,a.context.rcLastImgReq=Date.now(),new c(d,f)):(e(">>> <Image> request blocked!",a.id),{})}}},{"./log.js":10,"./spy-stat-block.js":11}],10:[function(a,b,c){(function(a){a.top.rcDebug=!0,b.exports=function(){a.top.rcDebug&&a.console.debug.apply(a.console,arguments)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],11:[function(a,b,c){(function(c){var d=(a("baseclassjs"),a("curb"),a("./spy-stat-node.js")),e=a("./log.js");b.exports=function(a){var b={rps:d(),net:d()};return c.top.rcDebug&&(c.setInterval(function(){e("requests/second",a.id,b.rps.toString()),b.rps.made=0,b.rps.attempted=0},1e3),c.setInterval(function(){e("net requests",a.id,b.rps.toString())},1e4)),b}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./log.js":10,"./spy-stat-node.js":12,baseclassjs:2,curb:6}],12:[function(a,b,c){var d=a("curb");b.exports=function(){return{attempted:0,made:0,toString:function(){return d("(made/attempted) %s/%s %s%",this.made,this.attempted,Math.round(this.made/this.attempted*100))}}}},{curb:6}]},{},[8])(8)});